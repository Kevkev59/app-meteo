{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class ServiceGeolocalisationService {\n  constructor() {\n    this.currentPositionSubject = new Subject();\n  }\n  getCurrentPosition() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        this.currentPositionSubject.next(position);\n      }, error => {\n        this.currentPositionSubject.error(error);\n      });\n    } else {\n      this.currentPositionSubject.error(new Error('La géolocalisation n\\'est pas prise en charge par votre navigateur'));\n    }\n  }\n  getCurrentPositionObservable() {\n    return this.currentPositionSubject.asObservable();\n  }\n}\nServiceGeolocalisationService.ɵfac = function ServiceGeolocalisationService_Factory(t) {\n  return new (t || ServiceGeolocalisationService)();\n};\nServiceGeolocalisationService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ServiceGeolocalisationService,\n  factory: ServiceGeolocalisationService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAAqBA,OAAO,QAAQ,MAAM;;AAM1C,OAAM,MAAOC,6BAA6B;EAJ1CC;IAMU,2BAAsB,GAAiC,IAAIF,OAAO,EAAuB;;EAEjGG,kBAAkB;IACd,IAAIC,SAAS,CAACC,WAAW,EAAE;MACzBD,SAAS,CAACC,WAAW,CAACF,kBAAkB,CACrCG,QAA6B,IAAI;QAChC,IAAI,CAACC,sBAAsB,CAACC,IAAI,CAACF,QAAQ,CAAC;MAC5C,CAAC,EACJG,KAA+B,IAAI;QAClC,IAAI,CAACF,sBAAsB,CAACE,KAAK,CAACA,KAAK,CAAC;MAC1C,CAAC,CAAC;KACH,MAAM;MACL,IAAI,CAACF,sBAAsB,CAACE,KAAK,CAAC,IAAIC,KAAK,CAAC,oEAAoE,CAAC,CAAC;;EAEtH;EAEAC,4BAA4B;IAC1B,OAAO,IAAI,CAACJ,sBAAsB,CAACK,YAAY,EAAE;EACnD;;AApBWX,6BAA6B;mBAA7BA,6BAA6B;AAAA;AAA7BA,6BAA6B;SAA7BA,6BAA6B;EAAAY,SAA7BZ,6BAA6B;EAAAa,YAH5B;AAAM","names":["Subject","ServiceGeolocalisationService","constructor","getCurrentPosition","navigator","geolocation","position","currentPositionSubject","next","error","Error","getCurrentPositionObservable","asObservable","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Apprenant\\Documents\\app-meteo\\src\\app\\services\\service-geolocalisation.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class ServiceGeolocalisationService {\r\n\r\n  private currentPositionSubject: Subject<GeolocationPosition> = new Subject<GeolocationPosition>();\r\n\r\n  getCurrentPosition(): void {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (position: GeolocationPosition) => {\r\n            this.currentPositionSubject.next(position);\r\n          },\r\n      (error: GeolocationPositionError) => {\r\n        this.currentPositionSubject.error(error);\r\n      });\r\n    } else {\r\n      this.currentPositionSubject.error(new Error('La géolocalisation n\\'est pas prise en charge par votre navigateur'));\r\n    }\r\n  }\r\n\r\n  getCurrentPositionObservable(): Observable<GeolocationPosition>{\r\n    return this.currentPositionSubject.asObservable();\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}